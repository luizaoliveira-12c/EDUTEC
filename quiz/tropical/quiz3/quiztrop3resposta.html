<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioTech - Quiz Floresta Tropical - Resposta</title>
  <link rel="stylesheet" href="./quiztrop3resposta.css" />
  <link rel="stylesheet" href="../../../header.css">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet"
  />
</head>

<body>
    <header>
        <div class="cabecalho-esquerda">
          <a href="../../../index.html" class="logo-link">
            <div class="logo">
              <img src="../../../home/imgs/leaf.png" alt="Logo" />
              <span>BioTech</span>
            </div>
          </a>
        </div>
    
        <div class="cabecalho-centro">
          <nav class="menu">
            <a href="../../../conteudo/floresta-tropical/floresta-tropical.html">Conteúdo</a>
            <a href="../../../inicio-quiz/inicio-quiz/quiz.html">Quiz</a>
            <a href="../../../mapa/mapa.html">Mapa</a>
          </nav>
        </div>
      </header>

      <img src="../imgs/fundoflorestatrop.png" alt="" class="bg-image">

      <div class="card-container">
        <div class="card" id="card-resposta">
          
        </div>
      </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const urlParams = new URLSearchParams(window.location.search);
      const destino = urlParams.get('destino'); 
      const cardResposta = document.getElementById('card-resposta');

      if (destino === 'correto') {
        cardResposta.innerHTML = `
          <h2>Parabéns! Resposta correta!</h2>
          <p>A resposta correta é: América do Sul.</p>
          <div class="progress-bar-container">
            <div class="progress-bar-fill"></div>
          </div>
        `;
        
        const barra = document.querySelector('.progress-bar-fill');
        const duracao = 3000;
        let inicio = null;

        function animarBarra(tempo) {
          if (!inicio) inicio = tempo;
          const decorrido = tempo - inicio;
          const porcentagem = Math.min((decorrido / duracao) * 100, 100);
          barra.style.width = porcentagem + '%';

          if (decorrido < duracao) {
            requestAnimationFrame(animarBarra);
          } else {
            window.location.href = '../conclusão/conclusão-trop.html';
          }
        }
        requestAnimationFrame(animarBarra);

      } else {
        cardResposta.innerHTML = `
          <h2>Ops! Resposta incorreta.</h2>
          <p>A resposta correta era: América do Sul.</p>
          <button class="retry-btn" onclick="window.location.href='./quiztrop3.html'">Tentar Novamente</button>
        `;
      }
    });
  </script>

</body>
</html>
