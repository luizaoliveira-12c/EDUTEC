<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioTech - Resposta Floresta Tropical</title>
  <link rel="stylesheet" href="segunda-página-florestatemp-resposta.css" />
  <link rel="stylesheet" href="../../../header.css">
</head>
<body>

  <header>
    <div class="cabecalho-esquerda">
      <div class="logo">
        <img src="../../../home/imgs/leaf.png" alt="Logo" />
        <span>BioTech</span>
      </div>
    </div>

    <div class="cabecalho-centro">
      <nav class="menu">
        <a href="../../../conteudo/floresta-temperada/floresta-temperada.html">Conteúdo</a>
        <a href="../../../inicio-quiz/inicio-quiz/quiz.html">Quiz</a>
        <a href="../../../mapa/mapa.html">Mapa</a>
      </nav>
    </div>
  </header>

  <main class="quiz-container quiz-response">
    <h2>Resposta</h2>
    <p>Aqui vai a resposta correta</p>

    <div class="progress-bar-bottom">
      <div class="progress-bar-fill"></div>
    </div>
  </main>

  <script>
    // Pega o parâmetro da URL (destino=correto ou destino=incorreto)
    const urlParams = new URLSearchParams(window.location.search);
    const destino = urlParams.get('destino'); // "correto" ou "incorreto"

    const messageEl = document.querySelector('.quiz-response h2');
    const answerEl = document.querySelector('.quiz-response p');

    if (destino === 'correto') {
      messageEl.textContent = 'Parabéns! Resposta correta!';
      answerEl.textContent = 'A resposta correta é:  Regiões com clima temperada, como partes da América do Norte.';
    } else {
      messageEl.textContent = 'Ops! Resposta incorreta.';
      answerEl.textContent = 'A resposta correta era:  Regiões com clima temperada, como partes da América do Norte.';
    }

    // Barra de progresso e redirecionamento automático
    const progressBarFill = document.querySelector('.progress-bar-fill');
    const duration = 3000; // 3 segundos
    let start = null;

    function animateProgress(timestamp) {
      if (!start) start = timestamp;
      const elapsed = timestamp - start;
      const progressPercent = Math.min((elapsed / duration) * 100, 100);
      progressBarFill.style.width = progressPercent + '%';

      if (elapsed < duration) {
        requestAnimationFrame(animateProgress);
      } else {
        if (destino === 'correto') {
          window.location.href = '../quiz3/terceira-página-florestatemp.html'; // Próxima pergunta
        } else {
          window.location.href = '../quiz1/primeira-página-florestatemp.html'; // Tentar novamente
        }
      }
    }

    requestAnimationFrame(animateProgress);
  </script>

</body>

</html>
