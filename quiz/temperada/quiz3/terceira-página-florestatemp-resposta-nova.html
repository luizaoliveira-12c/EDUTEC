<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BioTech - Quiz Floresta Temperada</title>
  <link rel="stylesheet" href="terceira-página-florestatemp-resposta-nova.css" />
  <link rel="stylesheet" href="../../../header.css">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet"
  />
</head>

<body>

  <header>
    <div class="cabecalho-esquerda">
      <a href="../../../index.html" class="logo-link">
      <div class="logo">
        <img src="../../../home/imgs/leaf.png" alt="Logo" />
        <span>BioTech</span>
      </div>
      </a>
    </div>

    <div class="cabecalho-centro">
      <nav class="menu">
        <a href="../../../conteudo/temperada/temperada.html">Conteúdo</a>
        <a href="../../../inicio-quiz/inicio-quiz/quiz.html">Quiz</a>
        <a href="../../../mapa/mapa.html">Mapa</a>
      </nav>
    </div>
  </header>

  <img src="../imgs/floresta temperada fundo.jpg" alt="Fundo" class="bg-image" />

  <div class="card-container">
        <div class="card">
          <h2 id="resposta-titulo"></h2>
          <p id="resposta-texto"></p>
          <div class="progress-bar-container">
            <div class="progress-bar-fill"></div>
          </div>
        </div>
      </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const destino = urlParams.get('destino'); 

    const titulo = document.getElementById('resposta-titulo');
    const texto = document.getElementById('resposta-texto');

    if (destino === 'correto') {
      titulo.textContent = 'Parabéns! Resposta correta!';
      texto.textContent = 'Isso mesmo! As coníferas e as árvores de folhas largas são as mais adaptadas a esse bioma.';
    } else {
      titulo.textContent = 'Ops! Resposta incorreta.';
      texto.textContent = 'Poxa, não foi dessa vez. Que tal revisar o conteúdo sobre a flora local?';
    }
    
    const barra = document.querySelector('.progress-bar-fill');
    const duracao = 5000; 
    let inicio = null;

    function animarBarra(tempo) {
      if (!inicio) inicio = tempo;
      const decorrido = tempo - inicio;
      const porcentagem = Math.min((decorrido / duracao) * 100, 100);
      barra.style.width = porcentagem + '%';

      if (decorrido < duracao) {
        requestAnimationFrame(animarBarra);
      } else {
          if (destino === 'correto') {
            window.location.href = '../conclusao/conclusão-florestatemp.html';
          } else {
            window.location.href = './terceira-página-florestatemp.html';
          }
        }
    }

    requestAnimationFrame(animarBarra);
  </script>

</body>

</html>
